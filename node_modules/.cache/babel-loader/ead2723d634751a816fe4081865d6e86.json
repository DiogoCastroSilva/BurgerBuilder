{"ast":null,"code":"import _objectSpread from\"/Users/diogosilva/Desktop/the-burguer-builder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{PURCHASE_BURGER_SUCCESS,PURCHASE_BURGER_FAILED,PURCHASE_BURGER_START,PURCHASE_INIT,FETCH_ORDERS_START,FETCH_ORDERS_SUCCESS,FETCH_ORDERS_FAILED}from'../actions/actionTypes';import axios from'../../axios-orders';export var purchaseBurgerSuccess=function purchaseBurgerSuccess(id,orderData){return{type:PURCHASE_BURGER_SUCCESS,id:id,orderData:orderData};};export var purchaseBurgerFailed=function purchaseBurgerFailed(error){return{type:PURCHASE_BURGER_FAILED,error:error};};export var purchaseBurgerStart=function purchaseBurgerStart(){return{type:PURCHASE_BURGER_START};};export var purchaseBurger=function purchaseBurger(orderData,token){return function(dispatch){dispatch(purchaseBurgerStart());axios.post(\"/orders.json?auth=\".concat(token),orderData).then(function(response){dispatch(purchaseBurgerSuccess(response.data.name,orderData));}).catch(function(e){dispatch(purchaseBurgerFailed(e));});};};export var purchaseInit=function purchaseInit(){return{type:PURCHASE_INIT};};export var fetchOrdersSuccess=function fetchOrdersSuccess(orders){return{type:FETCH_ORDERS_SUCCESS,orders:orders};};export var fetchOrdersFailed=function fetchOrdersFailed(error){return{type:FETCH_ORDERS_FAILED,error:error};};export var fetchOrdersStart=function fetchOrdersStart(){return{type:FETCH_ORDERS_START};};export var fetchOrders=function fetchOrders(token,userId){return function(dispatch){dispatch(fetchOrdersStart());var queryParams=\"auth=\".concat(token,\"&orderBy=\\\"userId\\\"&equalTo=\\\"\").concat(userId,\"\\\"\");axios.get(\"/orders.json?auth=\".concat(token,\"?\").concat(queryParams)).then(function(response){var fetchOrders=[];for(var key in response.data){fetchOrders.push(_objectSpread({},response.data[key],{id:key}));}dispatch(fetchOrdersSuccess(fetchOrders));}).catch(function(e){dispatch(fetchOrdersFailed(e));});};};","map":{"version":3,"sources":["/Users/diogosilva/Desktop/the-burguer-builder/src/store/actions/order.js"],"names":["PURCHASE_BURGER_SUCCESS","PURCHASE_BURGER_FAILED","PURCHASE_BURGER_START","PURCHASE_INIT","FETCH_ORDERS_START","FETCH_ORDERS_SUCCESS","FETCH_ORDERS_FAILED","axios","purchaseBurgerSuccess","id","orderData","type","purchaseBurgerFailed","error","purchaseBurgerStart","purchaseBurger","token","dispatch","post","then","response","data","name","catch","e","purchaseInit","fetchOrdersSuccess","orders","fetchOrdersFailed","fetchOrdersStart","fetchOrders","userId","queryParams","get","key","push"],"mappings":"mKAAA,OAASA,uBAAT,CAAkCC,sBAAlC,CACIC,qBADJ,CAC2BC,aAD3B,CAC0CC,kBAD1C,CAEIC,oBAFJ,CAE0BC,mBAF1B,KAEqD,wBAFrD,CAGA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CAEA,MAAO,IAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACC,EAAD,CAAKC,SAAL,CAAmB,CACpD,MAAO,CACHC,IAAI,CAAEX,uBADH,CAEHS,EAAE,CAAEA,EAFD,CAGHC,SAAS,CAAEA,SAHR,CAAP,CAKH,CANM,CAQP,MAAO,IAAME,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,KAAD,CAAW,CAC3C,MAAO,CACHF,IAAI,CAAEV,sBADH,CAEHY,KAAK,CAAEA,KAFJ,CAAP,CAIH,CALM,CAOP,MAAO,IAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,CACrC,MAAO,CACHH,IAAI,CAAET,qBADH,CAAP,CAGH,CAJM,CAMP,MAAO,IAAMa,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACL,SAAD,CAAYM,KAAZ,CAAsB,CAChD,MAAO,UAAAC,QAAQ,CAAI,CACfA,QAAQ,CAACH,mBAAmB,EAApB,CAAR,CACAP,KAAK,CAACW,IAAN,6BAAgCF,KAAhC,EAAyCN,SAAzC,EACKS,IADL,CACU,SAAAC,QAAQ,CAAI,CACdH,QAAQ,CAACT,qBAAqB,CAACY,QAAQ,CAACC,IAAT,CAAcC,IAAf,CAAqBZ,SAArB,CAAtB,CAAR,CACH,CAHL,EAGOa,KAHP,CAGa,SAAAC,CAAC,CAAI,CACVP,QAAQ,CAACL,oBAAoB,CAACY,CAAD,CAArB,CAAR,CACH,CALL,EAMH,CARD,CASH,CAVM,CAYP,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CAC9B,MAAO,CACHd,IAAI,CAAER,aADH,CAAP,CAGH,CAJM,CAMP,MAAO,IAAMuB,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,MAAD,CAAY,CAC1C,MAAO,CACHhB,IAAI,CAAEN,oBADH,CAEHsB,MAAM,CAAEA,MAFL,CAAP,CAIH,CALM,CAOP,MAAO,IAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACf,KAAD,CAAW,CACxC,MAAO,CACHF,IAAI,CAAEL,mBADH,CAEHO,KAAK,CAAEA,KAFJ,CAAP,CAIH,CALM,CAOP,MAAO,IAAMgB,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAClC,MAAO,CACHlB,IAAI,CAAEP,kBADH,CAAP,CAGH,CAJM,CAMP,MAAO,IAAM0B,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACd,KAAD,CAAQe,MAAR,CAAmB,CAC1C,MAAO,UAAAd,QAAQ,CAAI,CACfA,QAAQ,CAACY,gBAAgB,EAAjB,CAAR,CACA,GAAMG,CAAAA,WAAW,gBAAWhB,KAAX,0CAA8Ce,MAA9C,MAAjB,CACAxB,KAAK,CAAC0B,GAAN,6BAA+BjB,KAA/B,aAAwCgB,WAAxC,GACKb,IADL,CACU,SAAAC,QAAQ,CAAI,CACd,GAAMU,CAAAA,WAAW,CAAG,EAApB,CACA,IAAK,GAAII,CAAAA,GAAT,GAAgBd,CAAAA,QAAQ,CAACC,IAAzB,CAA+B,CAC3BS,WAAW,CAACK,IAAZ,kBACOf,QAAQ,CAACC,IAAT,CAAca,GAAd,CADP,EAEIzB,EAAE,CAAEyB,GAFR,IAIH,CACDjB,QAAQ,CAACS,kBAAkB,CAACI,WAAD,CAAnB,CAAR,CACH,CAVL,EAUOP,KAVP,CAUa,SAAAC,CAAC,CAAI,CACVP,QAAQ,CAACW,iBAAiB,CAACJ,CAAD,CAAlB,CAAR,CACH,CAZL,EAaH,CAhBD,CAiBH,CAlBM","sourcesContent":["import { PURCHASE_BURGER_SUCCESS, PURCHASE_BURGER_FAILED,\n    PURCHASE_BURGER_START, PURCHASE_INIT, FETCH_ORDERS_START,\n    FETCH_ORDERS_SUCCESS, FETCH_ORDERS_FAILED } from '../actions/actionTypes';\nimport axios from '../../axios-orders';\n\nexport const purchaseBurgerSuccess = (id, orderData) => {\n    return {\n        type: PURCHASE_BURGER_SUCCESS,\n        id: id,\n        orderData: orderData\n    };\n};\n\nexport const purchaseBurgerFailed = (error) => {\n    return {\n        type: PURCHASE_BURGER_FAILED,\n        error: error\n    };\n};\n\nexport const purchaseBurgerStart = () => {\n    return {\n        type: PURCHASE_BURGER_START\n    };\n};\n\nexport const purchaseBurger = (orderData, token) => {\n    return dispatch => {\n        dispatch(purchaseBurgerStart());\n        axios.post(`/orders.json?auth=${token}`, orderData)\n            .then(response => {\n                dispatch(purchaseBurgerSuccess(response.data.name, orderData));\n            }).catch(e => {\n                dispatch(purchaseBurgerFailed(e));\n            });\n    };\n};\n\nexport const purchaseInit = () => {\n    return {\n        type: PURCHASE_INIT\n    };\n};\n\nexport const fetchOrdersSuccess = (orders) => {\n    return {\n        type: FETCH_ORDERS_SUCCESS,\n        orders: orders\n    };\n};\n\nexport const fetchOrdersFailed = (error) => {\n    return {\n        type: FETCH_ORDERS_FAILED,\n        error: error\n    };\n};\n\nexport const fetchOrdersStart = () => {\n    return {\n        type: FETCH_ORDERS_START\n    };\n};\n\nexport const fetchOrders = (token, userId) => {\n    return dispatch => {\n        dispatch(fetchOrdersStart());\n        const queryParams = `auth=${token}&orderBy=\"userId\"&equalTo=\"${userId}\"`;\n        axios.get(`/orders.json?auth=${token}?${queryParams}`)\n            .then(response => {\n                const fetchOrders = [];\n                for (let key in response.data) {\n                    fetchOrders.push({\n                        ...response.data[key],\n                        id: key\n                    });\n                }\n                dispatch(fetchOrdersSuccess(fetchOrders));\n            }).catch(e => {\n                dispatch(fetchOrdersFailed(e));\n            });\n    };\n};"]},"metadata":{},"sourceType":"module"}