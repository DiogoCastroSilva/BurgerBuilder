(this["webpackJsonpthe-burguer-builder"]=this["webpackJsonpthe-burguer-builder"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){e.exports={BreadBottom:"BurgerIngredient_BreadBottom__2US69",BreadTop:"BurgerIngredient_BreadTop__3Y4-R",Seeds1:"BurgerIngredient_Seeds1__J6vUJ",Seeds2:"BurgerIngredient_Seeds2__2Ylex",Meat:"BurgerIngredient_Meat__3flwI",Cheese:"BurgerIngredient_Cheese__3rOTJ",Salad:"BurgerIngredient_Salad__KLnhy",Bacon:"BurgerIngredient_Bacon__1KK6n"}},,,,,,,function(e,t,n){e.exports={SideDrawer:"SideDrawer_SideDrawer__3kXLK",Open:"SideDrawer_Open__1tCv1",Close:"SideDrawer_Close__9j7x-",Logo:"SideDrawer_Logo__3voUv"}},function(e,t,n){e.exports={Input:"Input_Input__3r5Ke",Label:"Input_Label__1qyHr",InputElement:"Input_InputElement__2m88K",Invalid:"Input_Invalid__16Mis",ValidationError:"Input_ValidationError__qMR97"}},function(e,t,n){e.exports={BuildControl:"BuildControl_BuildControl__O8649",Label:"BuildControl_Label__TQkTk",Less:"BuildControl_Less__3Ttg8",More:"BuildControl_More__1MY7B"}},,,,function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__ApScI",Logo:"Toolbar_Logo__3Lk47",DesktopOnly:"Toolbar_DesktopOnly__LuPaL"}},,function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__2SpXc",active:"NavigationItem_active__2v2td"}},,,,function(e,t,n){e.exports={Button:"Button_Button__3gFiX",Success:"Button_Success__2Rka1",Danger:"Button_Danger__2ogZq"}},function(e,t,n){e.exports={BuildControls:"BuildControls_BuildControls__1YmbS",OrderButton:"BuildControls_OrderButton___M-Du",enable:"BuildControls_enable__9xLsD"}},,,,,,,,,,,function(e,t,n){e.exports={Content:"Layout_Content__PrDi6"}},function(e,t,n){e.exports=n.p+"static/media/burger-logo.b8503d26.png"},function(e,t,n){e.exports={Logo:"Logo_Logo__1N0xH"}},,function(e,t,n){e.exports={NavigationItems:"NavigationItems_NavigationItems__1fnFX"}},function(e,t,n){e.exports={DrawerToggle:"DrawerToogle_DrawerToggle__3XvuN"}},function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__3j6VK"}},,function(e,t,n){e.exports={Order:"Order_Order__3kYZJ"}},function(e,t,n){e.exports={Loader:"Spinner_Loader__1twK-",load2:"Spinner_load2__2gkgc"}},function(e,t,n){e.exports={Modal:"Modal_Modal__1-5dN"}},function(e,t,n){e.exports={Auth:"Auth_Auth__1Zul_"}},function(e,t,n){e.exports={CheckoutSummary:"CheckoutSummary_CheckoutSummary__3PsXi"}},function(e,t,n){e.exports={Burger:"Burger_Burger__10T8F"}},function(e,t,n){e.exports={ContactData:"ContactData_ContactData__20AK_",Input:"ContactData_Input__2fK5-"}},,,function(e,t,n){e.exports=n(90)},,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(24),i=n.n(o),l=(n(67),n(2)),c=n(3),u=n(6),s=n(4),d=n(7),p=n(45),m=n.n(p),h=n(27),g=n.n(h),f=n(46),v=n.n(f),E=n(47),_=n.n(E),b=function(e){var t=e.height;return a.a.createElement("div",{className:_.a.Logo,style:{height:t}},a.a.createElement("img",{src:v.a,alt:"burger-logo"}))},C=n(29),y=n.n(C),I=n(15),S=function(e){var t=e.children,n=e.link,r=e.exact;return a.a.createElement("li",{className:y.a.NavigationItem},a.a.createElement(I.b,{to:n,exact:r,activeClassName:y.a.active},t))},k=n(49),O=n.n(k),T=function(e){var t=e.isAuth;return a.a.createElement("ul",{className:O.a.NavigationItems},a.a.createElement(S,{link:"/",exact:!0},"Burger Builder"),t?a.a.createElement(S,{link:"/orders"},"Orders"):null,t?a.a.createElement(S,{link:"/logout"},"Logout"):a.a.createElement(S,{link:"/auth"},"Authenticate"))},D=n(50),N=n.n(D),j=function(e){var t=e.cliked;return a.a.createElement("div",{onClick:t,className:N.a.DrawerToggle},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null))},A=function(e){var t=e.toogle,n=e.isAuth;return a.a.createElement("header",{className:g.a.Toolbar},a.a.createElement(j,{cliked:t}),a.a.createElement("div",{className:g.a.Logo},a.a.createElement(b,null)),a.a.createElement("nav",{className:g.a.DesktopOnly},a.a.createElement(T,{isAuth:n})))},B=n(21),w=n.n(B),R=n(51),L=n.n(R),H=function(e){var t=e.show,n=e.clicked;return t?a.a.createElement("div",{className:L.a.Backdrop,onClick:n}):null},x=function(e){var t=e.close,n=e.open,o=e.isAuth,i=[w.a.SideDrawer];return i.push(n?w.a.Open:w.a.Close),a.a.createElement(r.Fragment,null,a.a.createElement(H,{show:n,clicked:t}),a.a.createElement("div",{className:i.join(" "),onClick:t},a.a.createElement("div",{className:w.a.Logo},a.a.createElement(b,null)),a.a.createElement("nav",null,a.a.createElement(T,{isAuth:o}))))},P=n(5),U=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={showSideDrawer:!1},n.sideDrawerCloseHandler=function(){n.setState({showSideDrawer:!1})},n.sideDrawerToogleHandler=function(){n.setState((function(e){return{showSideDrawer:!e.showSideDrawer}}))},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement(r.Fragment,null,a.a.createElement(A,{isAuth:this.props.isAuthenticated,toogle:this.sideDrawerToogleHandler}),a.a.createElement(x,{isAuth:this.props.isAuthenticated,open:this.state.showSideDrawer,close:this.sideDrawerCloseHandler}),a.a.createElement("main",{className:m.a.Content},this.props.children))}}]),t}(r.Component),F=Object(P.b)((function(e){return{isAuthenticated:null!==e.auth.token}}))(U),M=n(26),G=n.n(M),q=G.a.create({baseURL:"https://react-my-burguer-1fcc5.firebaseio.com/"}),z=n(18),Y=function(e,t){return{type:"AUTH_SUCCESS",token:e,userId:t}},V=function(e){return{type:"AUTH_FAILED",error:e}},K=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userID"),{type:"AUTH_LOGOUT"}},X=function(e){return function(t){setTimeout((function(){t(K())}),1e3*e)}},J=function(e){return{type:"SET_AUTH_REDIRECT",path:e}},W=n(16),Z=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.onLogout()}},{key:"render",value:function(){return a.a.createElement(W.a,{to:"/"})}}]),t}(r.Component),$=Object(P.b)(null,(function(e){return{onLogout:function(){return e(K())}}}))(Z),Q=n(53),ee=n.n(Q),te=function(e){var t=e.ingredients,n=e.price,r=[];for(var o in t)r.push({name:o,amount:t[o]});var i=r.map((function(e){return a.a.createElement("span",{style:{textTransform:"capitalize",display:"inline-block",margin:"0 8px",border:"1px solid #ccc",padding:"5px"},key:e.name},e.name," (",e.amount,")")}));return a.a.createElement("div",{className:ee.a.Order},a.a.createElement("p",null,"Ingredients: ",i),a.a.createElement("p",null,"Price: ",a.a.createElement("strong",null,"USD ",Number.parseFloat(n).toFixed(2))))},ne=n(54),re=n.n(ne),ae=function(){return a.a.createElement("div",{className:re.a.Loader},"Loading...")},oe=n(55),ie=n.n(oe),le=function(e){var t=e.children,n=e.show,o=e.modalClose;return a.a.createElement(r.Fragment,null,a.a.createElement(H,{show:n,clicked:o}),a.a.createElement("div",{className:ie.a.Modal,style:{transform:n?"translateY(0)":"translateY(-100vh)",opacity:n?"1":"0"}},n&&t))},ce=function(e,t){return function(n){function o(){var e,t;Object(l.a)(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=Object(u.a)(this,(e=Object(s.a)(o)).call.apply(e,[this].concat(r)))).state={error:null},t.errorConfirmHandler=function(){t.setState({error:null})},t}return Object(d.a)(o,n),Object(c.a)(o,[{key:"componentWilldMount",value:function(){var e=this;this.reqInterceptor=t.interceptors.response.use((function(t){return e.setState({error:null}),t})),this.resInterceptor=t.interceptors.response.use((function(e){return e}),(function(t){e.setState({error:t})}))}},{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.reqInterceptor),t.interceptors.request.eject(this.resInterceptor)}},{key:"render",value:function(){return a.a.createElement(r.Fragment,null,a.a.createElement(le,{show:this.state.error,modalClose:this.errorConfirmHandler},this.state.error?this.state.error.message:null),a.a.createElement(e,this.props))}}]),o}(r.Component)},ue=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.onFetchOrders(this.props.token,this.props.userId)}},{key:"render",value:function(){return this.props.loading?a.a.createElement(ae,null):a.a.createElement("div",null,this.props.orders.map((function(e){return a.a.createElement(te,{key:e.id,ingredients:e.ingredients,price:e.price})})))}}]),t}(r.Component),se=Object(P.b)((function(e){return{orders:e.order.orders,loading:e.order.loading,token:e.auth.token,userId:e.auth.userId}}),(function(e){return{onFetchOrders:function(t,n){return e(function(e,t){return function(n){n({type:"FETCH_ORDERS_START"});var r="auth=".concat(e,'&orderBy="userId"&equalTo="').concat(t,'"');q.get("/orders.json?auth=".concat(e,"?").concat(r)).then((function(e){var t=[];for(var r in e.data)t.push(Object(z.a)({},e.data[r],{id:r}));n({type:"FETCH_ORDERS_SUCCESS",orders:t})})).catch((function(e){n({type:"FETCH_ORDERS_FAILED",error:e})}))}}(t,n))}}}))(ce(ue,q)),de=n(13),pe=n(56),me=n.n(pe),he=function(e,t){return Object(z.a)({},e,{},t)},ge=function(e,t){var n=!0;if(!t)return!0;if(t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLength&&(n=e.length<=t.maxLength&&n),t.isEmail){n=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&n}if(t.isNumeric){n=/^\d+$/.test(e)&&n}return n},fe=n(33),ve=n.n(fe),Ee=function(e){var t=e.children,n=e.clicked,r=e.type,o=void 0===r?"Success":r,i=e.disabled;return a.a.createElement("button",{className:[ve.a.Button,ve.a[o]].join(" "),onClick:n,disabled:i},t)},_e=n(22),be=n.n(_e),Ce=function(e){var t=e.elementType,n=e.elementConfig,r=e.value,o=e.label,i=e.changed,l=e.invalid,c=e.shouldValidate,u=void 0!==c&&c,s=e.touched,d=e.autocomplete,p=void 0===d?"off":d,m=[null],h=[be.a.InputElement],g=null;switch(l&&u&&s&&(h.push(be.a.Invalid),g=a.a.createElement("p",{className:be.a.ValidationError},"Please enter a valid value!")),t){case"input":m=a.a.createElement("input",Object.assign({className:h.join(" "),value:r},n,{onChange:i,autoComplete:p}));break;case"textarea":m=a.a.createElement("textarea",Object.assign({className:h.join(" ")},n,{onChange:i}));break;case"select":m=a.a.createElement("select",{className:h.join(" "),value:r,onChange:i},n.options.map((function(e){return a.a.createElement("option",{value:e.value,key:e.value},e.display)})));break;default:m=a.a.createElement("input",Object.assign({className:h.join(" "),value:r},n,{onChange:i,autoComplete:p}))}var f=o?a.a.createElement("label",{className:h.join(" ")},o):null;return a.a.createElement("div",{className:be.a.Input},f,m,g)},ye=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={controls:{email:{elementType:"input",elementConfig:{type:"email",placeholder:"Mail Address"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}},isSignup:!0},n.inputChangeHandler=function(e,t){var r=he(n.state.controls,Object(de.a)({},t,he(n.state.controls[t],{value:e.target.value,valid:ge(e.target.value,n.state.controls[t].validation),touched:!0})));n.setState({controls:r})},n.submitHandler=function(e){e.preventDefault(),n.props.onAuth(n.state.controls.email.value,n.state.controls.password.value,n.state.isSignup)},n.switchAuthModeHandler=function(){n.setState((function(e){return{isSignup:!e.isSignup}}))},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.building||"/"===this.props.redirectPath||this.props.onSetRedirectPath()}},{key:"render",value:function(){var e=this,t=[];for(var n in this.state.controls)t.push({id:n,config:this.state.controls[n]});var r=this.props.loading?a.a.createElement(ae,null):t.map((function(t){return a.a.createElement(Ce,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,changed:function(n){return e.inputChangeHandler(n,t.id)},touched:t.config.touched,shouldValidate:t.config.validation,autocomplete:"on"})})),o=this.props.error?a.a.createElement("p",null,this.props.error.message):null,i=this.props.isAuth?a.a.createElement(W.a,{to:this.props.redirectPath}):null;return a.a.createElement("div",{className:me.a.Auth},i,o,a.a.createElement("form",{onSubmit:this.submitHandler},r,a.a.createElement(Ee,null,"SUBMIT")),a.a.createElement(Ee,{clicked:this.switchAuthModeHandler,type:"Danger"},"SWITCH TO ",this.state.isSignup?"SIGN UP":"SIGN IN"))}}]),t}(r.Component),Ie=Object(P.b)((function(e){return{loading:e.auth.isLoading,error:e.auth.error,isAuth:null!==e.auth.token,building:e.burgerBuilder.building,redirectPath:e.auth.redirectPath}}),(function(e){return{onAuth:function(t,n,r){return e(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r){r({type:"AUTH_START"});var a={email:e,password:t,returnSecureToken:!0},o=n?"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCXyYykiJQjUafDFB18wiFqDXo21AdZ6L8":"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCXyYykiJQjUafDFB18wiFqDXo21AdZ6L8";G.a.post(o,a).then((function(e){var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("expirationDate",t),localStorage.setItem("userID",e.data.localId),r(Y(e.data.idToken,e.data.localId)),r(X(e.data.expiresIn))})).catch((function(e){r(V(e.response.data.error))}))}}(t,n,r))},onSetRedirectPath:function(){return e(J("/"))}}}))(ye),Se=n(57),ke=n.n(Se),Oe=n(61),Te=n(58),De=n.n(Te),Ne=n(14),je=n.n(Ne),Ae=function(e){var t=null;switch(e.type){case"bread-bottom":t=a.a.createElement("div",{className:je.a.BreadBottom});break;case"bread-top":t=a.a.createElement("div",{className:je.a.BreadTop},a.a.createElement("div",{className:je.a.Seed1}),a.a.createElement("div",{className:je.a.Seed2}));break;case"meat":t=a.a.createElement("div",{className:je.a.Meat});break;case"cheese":t=a.a.createElement("div",{className:je.a.Cheese});break;case"bacon":t=a.a.createElement("div",{className:je.a.Bacon});break;case"salad":t=a.a.createElement("div",{className:je.a.Salad});break;default:t=null}return t},Be=function(e){var t=e.ingredients,n=Object.keys(t).map((function(e){return Object(Oe.a)(Array(t[e])).map((function(t,n){return a.a.createElement(Ae,{key:e+n,type:e})}))})).reduce((function(e,t){return e.concat(t)}),[]);return 0===n.length&&(n=a.a.createElement("p",null,"Please start adding ingredients")),a.a.createElement("div",{className:De.a.Burger},a.a.createElement(Ae,{type:"bread-top"}),n,a.a.createElement(Ae,{type:"bread-bottom"}))},we=function(e){var t=e.ingredients,n=e.checkoutCancel,r=e.checkoutContinue;return a.a.createElement("div",{className:ke.a.CheckoutSummary},a.a.createElement("h1",null,"We hope it tastes well"),a.a.createElement("div",{style:{width:"100%",margin:"auto"}},a.a.createElement(Be,{ingredients:t})),a.a.createElement(Ee,{type:"Danger",clicked:n},"CANCEL"),a.a.createElement(Ee,{clicked:r},"CONTINUE"))},Re=n(59),Le=n.n(Re),He=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={orderForm:{name:{elementType:"input",elementConfig:{type:"text",placeholder:"Your name"},value:"",validation:{required:!0},valid:!1,touched:!1},street:{elementType:"input",elementConfig:{type:"text",placeholder:"Street"},value:"",validation:{required:!0},valid:!1,touched:!1},zipCode:{elementType:"input",elementConfig:{type:"text",placeholder:"ZIP Code"},value:"",validation:{required:!0,minLength:5,maxLength:5,isNumeric:!0},valid:!1,touched:!1},country:{elementType:"input",elementConfig:{type:"text",placeholder:"Country"},value:"",validation:{required:!0},valid:!1,touched:!1},email:{elementType:"input",elementConfig:{type:"email",placeholder:"Your E-Mail"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},deleveryMethod:{elementType:"select",elementConfig:{options:[{value:"fastest",display:"Fastest"},{value:"cheapest",display:"Cheapest"}]},valid:!0,value:"fastest"}},formIsValid:!1},n.orderHandler=function(e){e.preventDefault();var t={};for(var r in n.state.orderForm)t[r]=n.state.orderForm[r].value;var a={ingredients:n.props.ingredients,price:n.props.totalPrice,orderData:t,userId:n.props.userId};n.props.onOrderBurger(a,n.props.token)},n.inputChangeHandler=function(e,t){var r=he(n.state.orderForm[t],{value:e.target.value,valid:ge(e.target.value,n.state.orderForm[t].validation),touched:!0}),a=he(n.state.orderForm,Object(de.a)({},t,r)),o=!0;for(var i in a)o=a[i].valid&&o;n.setState({orderForm:a,formIsValid:o})},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=[];for(var n in this.state.orderForm)t.push({id:n,config:this.state.orderForm[n]});var r=a.a.createElement("form",{onSubmit:this.orderHandler},t.map((function(t){return a.a.createElement(Ce,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,changed:function(n){return e.inputChangeHandler(n,t.id)},touched:t.config.touched,shouldValidate:t.config.validation})})),a.a.createElement(Ee,{disabled:!this.state.formIsValid},"Order"));return this.props.loading&&(r=a.a.createElement(ae,null)),a.a.createElement("div",{className:Le.a.ContactData},a.a.createElement("h4",null,"Enter Your Contact Data"),r)}}]),t}(r.Component),xe=Object(P.b)((function(e){return{ingredients:e.burgerBuilder.ingredients,totalPrice:e.burgerBuilder.totalPrice,loading:e.order.loading,token:e.auth.token,userId:e.auth.userId}}),(function(e){return{onOrderBurger:function(t,n){return e(function(e,t){return function(n){n({type:"PURCHASE_BURGER_START"}),q.post("/orders.json?auth=".concat(t),e).then((function(t){n(function(e,t){return{type:"PURCHASE_BURGER_SUCCESS",id:e,orderData:t}}(t.data.name,e))})).catch((function(e){n({type:"PURCHASE_BURGER_FAILED",error:e})}))}}(t,n))}}}))(ce(He,q)),Pe=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).checkoutCancelHandler=function(){n.props.history.goBack()},n.checkoutContinueHandler=function(){n.props.history.replace("/checkout/contact-data")},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=a.a.createElement(W.a,{to:"/"});if(this.props.ingredients){var t=this.props.purchased?a.a.createElement(W.a,{to:"/"}):null;e=a.a.createElement("div",null,t,a.a.createElement(we,{ingredients:this.props.ingredients,checkoutCancel:this.checkoutCancelHandler,checkoutContinue:this.checkoutContinueHandler}),a.a.createElement(W.b,{path:this.props.match.path+"/contact-data",component:xe}))}return e}}]),t}(r.Component),Ue=Object(P.b)((function(e){return{ingredients:e.burgerBuilder.ingredients,purchased:e.order.purchased}}))(Pe),Fe=n(34),Me=n.n(Fe),Ge=n(23),qe=n.n(Ge),ze=function(e){var t=e.label,n=e.add,r=e.remove,o=e.disabled;return a.a.createElement("div",{className:qe.a.BuildControl},a.a.createElement("div",{className:qe.a.Label},t),a.a.createElement("button",{className:qe.a.Less,onClick:r,disabled:o},"Less"),a.a.createElement("button",{className:qe.a.More,onClick:n},"More"))},Ye=[{label:"Salad",type:"salad"},{label:"Bacon",type:"bacon"},{label:"Cheese",type:"cheese"},{label:"Meat",type:"meat"}],Ve=function(e){var t=e.ingredientAdded,n=e.ingredientRemoved,r=e.disabled,o=e.price,i=e.purchasable,l=e.ordered,c=e.isAuth;return a.a.createElement("div",{className:Me.a.BuildControls},a.a.createElement("p",null,"Current Price: ",a.a.createElement("strong",null,o.toFixed(2))),Ye.map((function(e){return a.a.createElement(ze,{key:e.label,label:e.label,add:function(){return t(e.type)},remove:function(){return n(e.type)},disabled:r[e.type]})})),a.a.createElement("button",{disabled:!i,className:Me.a.OrderButton,onClick:l},c?"ORDER NOW":"SIGN UP TO ORDER"))},Ke=function(e){var t=e.ingredients,n=e.purchaseCancel,o=e.purchaseContinue,i=e.price,l=Object.keys(t).map((function(e){return a.a.createElement("li",{key:e},a.a.createElement("span",{style:{textTransform:"capitalize"}},e),": ",t[e])}));return a.a.createElement(r.Fragment,null,a.a.createElement("h3",null,"Your Order"),a.a.createElement("p",null,"A delicious Burguer with the following ingredients:"),a.a.createElement("ul",null,l),a.a.createElement("p",null,a.a.createElement("strong",null,"TOTAL PRICE: ",i.toFixed(2))),a.a.createElement("p",null,"Continue to checkout"),a.a.createElement(Ee,{type:"Danger",clicked:n},"CANCEL"),a.a.createElement(Ee,{clicked:o},"CONTINUE"))},Xe=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={pusrchasing:!1},n.updatePurchaseState=function(e){return Object.keys(e).map((function(t){return e[t]})).reduce((function(e,t){return e+t}),0)>0},n.purchaseHandler=function(){n.props.isAuth?n.setState({pusrchasing:!0}):(n.props.onSetRedirectPath("/checkout"),n.props.history.push("/auth"))},n.purchaseCancelHandler=function(){n.setState({pusrchasing:!1})},n.purchaseContinueHandler=function(){n.props.onInitPurchase(),n.props.history.push("/checkout")},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.getIngredients()}},{key:"render",value:function(){var e=Object(z.a)({},this.props.ingredients);for(var t in e)e[t]=e[t]<=0;var n=this.props.ingredients?a.a.createElement(Ke,{ingredients:this.props.ingredients,purchaseCancel:this.purchaseCancelHandler,purchaseContinue:this.purchaseContinueHandler,price:this.props.totalPrice}):null,o=this.props.error?a.a.createElement("p",null,"Ingredients can't be loaded!"):a.a.createElement(ae,null);return this.props.ingredients&&(o=a.a.createElement(r.Fragment,null,a.a.createElement(Be,{ingredients:this.props.ingredients}),a.a.createElement(Ve,{ingredientAdded:this.props.onIngredientAdded,ingredientRemoved:this.props.onIngredientRemoved,disabled:e,purchasable:this.updatePurchaseState(this.props.ingredients),price:this.props.totalPrice,ordered:this.purchaseHandler,isAuth:this.props.isAuth}))),a.a.createElement(r.Fragment,null,a.a.createElement(le,{show:this.state.pusrchasing,modalClose:this.purchaseCancelHandler},n),o)}}]),t}(r.Component),Je=Object(P.b)((function(e){return{ingredients:e.burgerBuilder.ingredients,totalPrice:e.burgerBuilder.totalPrice,error:e.burgerBuilder.error,isAuth:null!==e.auth.token}}),(function(e){return{onIngredientAdded:function(t){return e(function(e){return{type:"ADD_INGREDIENT",ingredientName:e}}(t))},onIngredientRemoved:function(t){return e(function(e){return{type:"REMOVE_INGREDIENT",ingredientName:e}}(t))},getIngredients:function(){return e((function(e){q.get("/ingredients.json").then((function(t){e({type:"SET_INGREDIENTS",ingredients:t.data})})).catch((function(){e({type:"FETCH_INGREDIENTS_FAILED"})}))}))},onInitPurchase:function(){return e({type:"PURCHASE_INIT"})},onSetRedirectPath:function(t){return e(J(t))}}}))(ce(Xe,q)),We=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.onTryAutoSignUp()}},{key:"render",value:function(){var e=[];return this.props.isAuth&&e.push({path:"/checkout",component:Ue},{path:"/orders",component:se},{path:"/logout",component:$}),a.a.createElement("div",null,a.a.createElement(F,null,a.a.createElement(W.d,null,e.map((function(e){return a.a.createElement(W.b,{path:e.path,component:e.component,key:e.path})})),a.a.createElement(W.b,{path:"/auth",component:Ie}),a.a.createElement(W.b,{path:"/",exact:!0,component:Je}),a.a.createElement(W.a,{to:"/"}))))}}]),t}(r.Component),Ze=Object(W.g)(Object(P.b)((function(e){return{isAuth:null!==e.auth.token}}),(function(e){return{onTryAutoSignUp:function(){return e((function(e){var t=localStorage.getItem("token");if(t){var n=new Date(localStorage.getItem("expirationDate"));if(n>new Date){var r=localStorage.getItem("userID");e(Y(t,r)),e(X((n.getTime()-(new Date).getTime())/1e3))}else e(K())}else e(K())}))}}}))(We));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $e=n(19),Qe={ingredients:null,totalPrice:4,error:!1,building:!1},et={salad:.5,cheese:.4,meat:1.3,bacon:.7},tt=function(e,t){var n=Object(de.a)({},t.ingredientName,e.ingredients[t.ingredientName]+1),r={ingredients:he(e.ingredients,n),totalPrice:e.totalPrice+et[t.ingredientName],building:!0};return he(e,r)},nt=function(e,t){var n=Object(de.a)({},t.ingredientName,e.ingredients[t.ingredientName]-1),r={ingredients:he(e.ingredients,n),totalPrice:e.totalPrice+et[t.ingredientName],building:!0};return he(e,r)},rt=function(e,t){return he(e,{ingredients:{salad:t.ingredients.salad,bacon:t.ingredients.bacon,cheese:t.ingredients.cheese,meat:t.ingredients.meat},totalPrice:4,error:!1,building:!1})},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_INGREDIENT":return tt(e,t);case"REMOVE_INGREDIENT":return nt(e,t);case"SET_INGREDIENTS":return rt(e,t);case"FETCH_INGREDIENTS_FAILED":return he(e,{error:!0,building:!1});default:return e}},ot={orders:[],loading:!1,purchased:!1},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PURCHASE_INIT":return he(e,{purchased:!1});case"PURCHASE_BURGER_START":return he(e,{loading:!0});case"PURCHASE_BURGER_SUCCESS":var n=he(t.orderData,{id:t.id});return he(e,{loading:!1,orders:e.orders.concat(n),purchased:!0});case"PURCHASE_BURGER_FAILED":return he(e,{loading:!1});case"FETCH_ORDERS_START":return he(e,{loading:!0});case"FETCH_ORDERS_SUCCESS":return he(e,{orders:t.orders,loading:!1});case"FETCH_ORDERS_FAILED":return he(e,{loading:!1});default:return e}},lt={token:null,userId:null,error:null,isLoading:!1,redirectPath:"/"},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return he(e,{error:null,isLoading:!0});case"AUTH_SUCCESS":return he(e,{token:t.token,userId:t.userId,error:null,isLoading:!1});case"AUTH_FAILED":return he(e,{error:t.error,isLoading:!1});case"AUTH_LOGOUT":return he(e,{token:null,userId:null});case"SET_AUTH_REDIRECT":return he(e,{redirectPath:t.path});default:return e}},ut=n(60),st=Object($e.c)({burgerBuilder:at,order:it,auth:ct}),dt=Object($e.d)(st,Object($e.a)(ut.a)),pt=a.a.createElement(P.a,{store:dt},a.a.createElement(I.a,null,a.a.createElement(Ze,null)));i.a.render(pt,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[62,1,2]]]);
//# sourceMappingURL=main.8baa57fc.chunk.js.map